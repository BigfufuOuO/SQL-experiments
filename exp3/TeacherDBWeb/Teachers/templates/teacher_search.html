{% extends 'teachermanage.html' %}

{% block list %}
<table class="table mt-5">
    <thead class="thead-dark">
      <tr>
        <th scope="col">工号</th>
        <th scope="col">姓名</th>
        <th scope="col">性别</th>
        <th scope="col">职称</th>
        <th scope="col">操作</th>
      </tr>
    </thead>
    {% for teacher in teachers %}
        <tr>
            <td>{{ teacher.ID }}</td>
            <td>{{ teacher.name }}</td>
            <td>{{ teacher.get_sex_display }}</td>
            <td>{{ teacher.get_position_display }}</td>
            <td>
                <a class="btn btn-info btn-sm" href="/teachers/edit/{{ teacher.ID }}" role="button">编辑</a>
                <a class="btn btn-danger btn-sm" href="/teachers/delete/{{ teacher.ID }}" role="button">删除</a>
            </td>
        </tr>
    {% endfor %}
  </table>

    <!-- 如果没有搜索到，弹出警告 -->
    {% if teachers|length == 0 %}
    <div class="alert alert-danger" role="alert">
  没有搜索到 <a href="#" class="alert-link">符合条件的项</a>. 请检查你的输入.
    </div>
    {% endif %}

    <!-- 分页 -->
    <nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item">
        {% if pageInfo.pageNow > 1 %}
        <a class="page-link" href="?page={{ pageInfo.pagePrev }}">Previous</a>
        {% else %}
        <a class="page-link">Previous</a>
        {% endif %}
    </li>
    {% for i in page_list %}
        <!-- 如果是当前页，active -->
        {% if i == pageInfo.pageNow %}
            <li class="page-item active"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
        {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
        {% endif %}
    {% endfor %}
    <li class="page-item">
        {% if pageInfo.pageNow < page_list|length %}
        <a class="page-link" href="?page={{ pageNext }}">Next</a>
        {% else %}
        <a class="page-link">Next</a>
        {% endif %}
    </li>
  </ul>
</nav>
{% endblock %}